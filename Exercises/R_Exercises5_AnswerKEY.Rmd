---
title: "R Exercises Session 4"
author: "Introduction to R for Data Management and Analysis"
date: "June 16, 2016"
output: word_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

**Note**: Use `Ctrl (Command) + Alt (Option) + I` or go to `Code` > `Insert Chunk` (from the menu) to insert a code block "chunk". 

## Exercises

1. Write a small function that takes a number as an input and raises it to the power of `3`. Name this function `cube`.

```{r}
cube <- function(number) {
    number^3
}
# You can test by calling the function
cube(2)
```

2. Create a `4` by `5` matrix of random numbers and assign it. Write a `for` loop that takes the `sum` of each of the rows and returns a vector of row sums. 

```{r}
mat <- matrix(rnorm(20), nrow = 4, ncol = 5)
sumROW <- c()
for (i in seq_len(nrow(mat))) {
   sumROW <- c(sumROW, sum(mat[i, ])) 
}
## Check the operation worked, you should get a vector of length 4 (for each row in the matrix)
sumROW

## Verify your work using the rowSums() function
rowSums(mat)
```

3. Create a list of 2 `mtcars` datasets, one in each element/component and assign it. Now use an `lapply` function with `dim` as an argument. 

```{r}
newList <- list(mtcars, mtcars)
lapply(newList, dim)
```

4. Write a function with an argument called "directory" that counts the number of "csv" files in that directory. (hint: see the `list.files` function)  

```{r}
cvsFiles <- function(directory) {
    fileVector <- list.files(path = directory, pattern = ".csv", full.names = TRUE)
    length(fileVector)
}
```


5. Use a `tapply` function to take the average weight of chicks in `chickwts` in each of the feed categories. 

```{r}
data("chickwts")
tapply(X = chickwts$weight, INDEX = chickwts$feed, mean)
```


## Extra Credit

6. Use `vapply` to check whether all the columns in the `mtcars` dataset are numeric. Include the `X`, `FUN` and the `FUN.VALUE` arguments. 

```{r}
vapply(X = mtcars, FUN = is.numeric, FUN.VALUE = logical(1L))

## To be thorough, we can use the all function 
all( vapply(X = mtcars, FUN = is.numeric, FUN.VALUE = logical(1L)) )
```

